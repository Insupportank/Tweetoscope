\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\author{Aaron BRODERICK Olivier HAZARD Julien MICHEL}
\title{Tweetoscope}
\begin{document}
\maketitle

\section{Secret and git}
\qquad 
It may not be a good idea to put the token in the git repository. Indeed even if our repo may not be accessible at first if we put it in private mode, we think it may still be scrapped by people who would try to get some API tokens. However it depends on the reliability of the gitlab private mode: if it is really reliable, it should not be a problem to put the token on gitlab. As our repository is in public, it would necessarily be a bad idea to put the token in the repository.

\section{Architectural Choices}
\qquad 
In our architecture, a topic \texttt{Tweets} comes first to gather the tweets using the source file (or the API). Then, we can use a \texttt{consumer group} to filter, first of all, tweets' text. We can also gather further information such as the language in order to filter more precisely the tweets. This way, we gather the filtered tweets in a second topic that we call \texttt{FilteredTweets}. Finally, we use a service to gather the hashtags in a last topic \texttt{hashtags}. Then, we can use a counter like the \texttt{Aggregator} from the first labwork to get the number of occurences of each hashtag.

\subsection{Structure of the exchanged messages (JSON formatted)}

\section{Risk Analysis}
\subsection{Initial Risk Analysis}
\qquad Since we have 2 brokers for our 2 partitions for each topic, the crash of 1 broker would only slow down the application. if 2 of them crash at the same time for the same topic, the application is hanging and the some results could be lost during the issue.

If a consumer or a producer lags or crashes, it can cause the application to lose data or to slow down.
\subsection{Risk mitigation using Kubernetes}
\qquad In the end, we only managed to make the project work with one broker when using Kubernetes. We use an infrastructure pod to service similar to the one used in the lab-work 3B. When we kill a pod :TODO. As we only used one broker, it is therefore normal that: TODO.


\end{document}
